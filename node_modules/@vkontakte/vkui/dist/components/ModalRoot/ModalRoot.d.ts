import { Component } from 'react';
import PropTypes from 'prop-types';
import { HasChildren, HasPlatform } from '../../types/props';
export declare const TYPE_CARD = "modal-card";
export declare const TYPE_PAGE = "modal-page";
export interface ModalsStateEntry {
    id: string;
    onClose?: () => {};
    type?: 'modal-card' | 'modal-page';
    settlingHeight?: number;
    dynamicContentHeight?: boolean;
    expandable?: boolean;
    modalElement?: HTMLElement;
    innerElement?: HTMLElement;
    headerElement?: HTMLElement;
    contentElement?: HTMLElement;
    footerElement?: HTMLElement;
    translateY?: number;
    translateYFrom?: number;
    translateYCurrent?: number;
    touchStartTime?: number;
    touchStartContentScrollTop?: number;
    touchMovePositive?: boolean | null;
    touchShiftYPercent?: number;
    expanded?: boolean;
    collapsed?: boolean;
    hidden?: boolean;
    contentScrolled?: boolean;
    expandedRange?: [number, number];
    collapsedRange?: [number, number];
    hiddenRange?: [number, number];
    contentScrollStopTimeout?: number;
}
export interface ModalRootProps extends HasChildren, HasPlatform {
    activeModal?: string | null;
    /**
     * Будет вызвано при закрытии активной модалки с её id
     */
    onClose?(modalId: string): void;
}
export interface ModalRootState {
    activeModal?: string;
    prevModal?: string;
    nextModal?: string;
    visibleModals?: string[];
    animated?: boolean;
    switching?: boolean;
    history?: string[];
    isBack?: boolean;
    inited?: boolean;
    touchDown?: boolean;
    dragging?: boolean;
}
declare class ModalRoot extends Component<ModalRootProps, ModalRootState> {
    constructor(props: ModalRootProps);
    private modalsState;
    private documentScrolling;
    private activeTransitions;
    private readonly maskElementRef;
    private maskAnimationFrame;
    private readonly modalRootContext;
    static contextTypes: {
        window: PropTypes.Requireable<any>;
        document: PropTypes.Requireable<any>;
        webviewType: PropTypes.Requireable<string>;
    };
    get document(): Document;
    get window(): Window;
    get webviewType(): 'vkapps' | 'internal';
    get modals(): any[];
    initModalsState(): void;
    componentDidMount(): void;
    componentWillUnmount(): void;
    componentDidUpdate(prevProps: ModalRootProps, prevState: ModalRootState): void;
    blurActiveElement(): void;
    toggleDocumentScrolling(enabled: boolean): void;
    preventTouch: (event: any) => void;
    pickModal(modalId: string): HTMLElement;
    /**
     * Инициализирует модалку перед анимацией открытия
     */
    initActiveModal(): void;
    initPageModal(modalState: ModalsStateEntry, modalElement: HTMLElement): void;
    initCardModal(modalState: ModalsStateEntry, modalElement: HTMLElement): void;
    checkPageContentHeight(): void;
    updateModalHeight: () => void;
    closeActiveModal(): void;
    onTouchMove: (e: any) => any;
    onPageTouchMove(event: any, modalState: ModalsStateEntry): any;
    onCardTouchMove(event: any, modalState: ModalsStateEntry): void;
    onTouchEnd: (e: any) => void;
    onPageTouchEnd(event: any, modalState: ModalsStateEntry): void;
    onCardTouchEnd(modalState: ModalsStateEntry): void;
    onScroll: (e: any) => void;
    waitTransitionFinish(modalState: ModalsStateEntry, eventHandler: () => void): void;
    switchPrevNext(): void;
    prevNextSwitchEndHandler: () => void;
    animateTranslate(modalState: ModalsStateEntry, currentPercent?: number): void;
    animatePageHeader(modalState: ModalsStateEntry, currentPercent?: number): void;
    setMaskOpacity(modalState: ModalsStateEntry, forceOpacity?: number): void;
    /**
     * Закрывает текущую модалку
     */
    triggerActiveModalClose(): void;
    private doCloseModal;
    /**
     * По клику на полупрозрачный черный фон нужно закрыть текущую модалку
     */
    onMaskClick: () => void;
    render(): JSX.Element;
}
declare const _default: typeof ModalRoot;
export default _default;
