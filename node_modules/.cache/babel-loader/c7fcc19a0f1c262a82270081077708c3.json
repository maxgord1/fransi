{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport React, { Component } from 'react';\nimport Button from '../Button/Button';\nimport PanelHeaderButton from '../PanelHeaderButton/PanelHeaderButton';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport withInsets from '../../hoc/withInsets';\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\nimport { IOS } from '../../lib/platform';\nimport { isNumeric } from '../../lib/utils';\nimport withPlatform from '../../hoc/withPlatform';\n\nvar ModalCard = /*#__PURE__*/function (_Component) {\n  _inherits(ModalCard, _Component);\n\n  function ModalCard() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ModalCard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ModalCard)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"onButtonClick\", function (event) {\n      var target = event.currentTarget;\n      var action = _this.props.actions[target.dataset.index].action;\n      event.persist();\n\n      if (typeof action === 'function') {\n        action(event);\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(ModalCard, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          insets = _this$props.insets,\n          icon = _this$props.icon,\n          header = _this$props.header,\n          caption = _this$props.caption,\n          children = _this$props.children,\n          actions = _this$props.actions,\n          actionsLayout = _this$props.actionsLayout,\n          onClose = _this$props.onClose,\n          platform = _this$props.platform;\n      return React.createElement(\"div\", {\n        className: classNames(getClassName('ModalCard', platform))\n      }, React.createElement(\"div\", {\n        className: \"ModalCard__in\"\n      }, React.createElement(\"div\", {\n        className: \"ModalCard__container\",\n        style: isNumeric(insets.bottom) ? {\n          marginBottom: insets.bottom\n        } : null\n      }, icon && React.createElement(\"div\", {\n        className: \"ModalCard__icon\"\n      }, icon), header && React.createElement(\"div\", {\n        className: \"ModalCard__title\"\n      }, header), caption && React.createElement(\"div\", {\n        className: \"ModalCard__caption\"\n      }, caption), children, actions.length > 0 && React.createElement(\"div\", {\n        className: classNames('ModalCard__actions', {\n          'ModalCard__actions--v': actionsLayout === 'vertical'\n        })\n      }, actions.map(function (_ref, i) {\n        var title = _ref.title,\n            mode = _ref.mode;\n        return React.createElement(Button, {\n          key: i,\n          \"data-index\": i,\n          size: \"xl\",\n          mode: mode,\n          onClick: _this2.onButtonClick\n        }, title);\n      })), platform === IOS && React.createElement(PanelHeaderButton, {\n        className: \"ModalCard__dismiss\",\n        onClick: onClose\n      }, React.createElement(Icon24Dismiss, null)))));\n    }\n  }]);\n\n  return ModalCard;\n}(Component);\n\n_defineProperty(ModalCard, \"defaultProps\", {\n  actions: [],\n  actionsLayout: 'horizontal',\n  insets: {}\n});\n\nexport default withPlatform(withInsets(ModalCard));","map":{"version":3,"sources":["../../../../src/components/ModalCard/ModalCard.tsx"],"names":["ModalCard","Component","actions","actionsLayout","insets","target","event","action","icon","header","caption","children","onClose","platform","classNames","getClassName","marginBottom","bottom","title","mode","onButtonClick","withPlatform","withInsets"],"mappings":"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","sourcesContent":["import React, { Component, HTMLAttributes, MouseEventHandler, ReactNode, SyntheticEvent } from 'react';\nimport Button from '../Button/Button';\nimport PanelHeaderButton from '../PanelHeaderButton/PanelHeaderButton';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport withInsets from '../../hoc/withInsets';\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\nimport { IOS } from '../../lib/platform';\nimport { isNumeric } from '../../lib/utils';\nimport withPlatform from '../../hoc/withPlatform';\nimport { HasPlatform, HasChildren, HasInsets } from '../../types/props';\n\nexport interface ModalCardActionInterface {\n  title: string;\n  action?(): void;\n  mode?: 'secondary' | 'primary';\n}\n\nexport interface ModalCardProps extends HTMLAttributes<HTMLElement>, HasPlatform, HasChildren, HasInsets {\n  /**\n   * Иконка.\n   *\n   * Может быть компонентом иконки, например, `<Icon56MoneyTransferOutline />`, или `<Avatar size={72} src=\"\" />`\n   */\n  icon?: ReactNode;\n\n  /**\n   * Заголовок карточки\n   */\n  header?: string;\n\n  /**\n   * Текст, поясняющий заголовок\n   */\n  caption?: string;\n\n  /**\n   * Список кнопок-действий\n   */\n  actions?: ModalCardActionInterface[];\n\n  /**\n   * Тип отображения кнопок: вертикальный или горизонтальный\n   */\n  actionsLayout?: 'vertical' | 'horizontal';\n\n  /**\n   * Будет вызван при закрытии карточки жестом\n   */\n  onClose?(): void;\n}\n\nclass ModalCard extends Component<ModalCardProps> {\n  static defaultProps: ModalCardProps = {\n    actions: [],\n    actionsLayout: 'horizontal',\n    insets: {},\n  };\n\n  onButtonClick: MouseEventHandler = (event: SyntheticEvent) => {\n    const target = event.currentTarget as HTMLButtonElement;\n    const action = this.props.actions[target.dataset.index].action;\n    event.persist();\n\n    if (typeof action === 'function') {\n      action(event);\n    }\n  };\n\n  render() {\n    const { insets, icon, header, caption, children, actions, actionsLayout, onClose, platform } = this.props;\n\n    return (\n      <div className={classNames(getClassName('ModalCard', platform))}>\n        <div className=\"ModalCard__in\">\n          <div className=\"ModalCard__container\" style={isNumeric(insets.bottom) ? { marginBottom: insets.bottom } : null}>\n            {icon && <div className=\"ModalCard__icon\">{icon}</div>}\n            {header && <div className=\"ModalCard__title\">{header}</div>}\n            {caption && <div className=\"ModalCard__caption\">{caption}</div>}\n\n            {children}\n\n            {actions.length > 0 &&\n            <div className={classNames('ModalCard__actions', {\n              'ModalCard__actions--v': actionsLayout === 'vertical',\n            })}>\n              {actions.map(({ title, mode }: ModalCardActionInterface, i: number) =>\n                <Button\n                  key={i}\n                  data-index={i}\n                  size=\"xl\"\n                  mode={mode}\n                  onClick={this.onButtonClick}\n                >\n                  {title}\n                </Button>\n              )}\n            </div>\n            }\n\n            {platform === IOS &&\n            <PanelHeaderButton className=\"ModalCard__dismiss\" onClick={onClose}>\n              <Icon24Dismiss />\n            </PanelHeaderButton>}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withPlatform(withInsets(ModalCard));\n"]},"metadata":{},"sourceType":"module"}