{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf3 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _classNames = _interopRequireDefault(require(\"../../lib/classNames\"));\n\nvar _withPlatform = _interopRequireDefault(require(\"../../hoc/withPlatform\"));\n\nvar _platform = require(\"../../lib/platform\");\n/**\n * @deprecated используйте PanelHeaderSimple\n */\n\n\nvar PanelHeader = /*#__PURE__*/function (_Component) {\n  (0, _inherits2.default)(PanelHeader, _Component);\n\n  function PanelHeader() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    (0, _classCallCheck2.default)(this, PanelHeader);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = (0, _possibleConstructorReturn2.default)(this, (_getPrototypeOf2 = (0, _getPrototypeOf3.default)(PanelHeader)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"state\", {\n      ready: false\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"leftNode\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"addonNode\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"titleNode\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"rightNode\", void 0);\n    return _this;\n  }\n\n  (0, _createClass2.default)(PanelHeader, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var panelId = this.context.panel;\n      this.leftNode = this.document.getElementById(\"header-left-\".concat(panelId));\n      this.addonNode = this.document.getElementById(\"header-addon-\".concat(panelId));\n      this.titleNode = this.document.getElementById(\"header-title-\".concat(panelId));\n      this.rightNode = this.document.getElementById(\"header-right-\".concat(panelId));\n      var getRef = this.props.getRef;\n\n      if (getRef) {\n        var element = this.document.getElementById(\"panel-header-\".concat(panelId));\n\n        if (typeof getRef === 'function') {\n          getRef(element);\n        } else {\n          getRef.current = element;\n        }\n      }\n\n      this.setState({\n        ready: true\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          left = _this$props.left,\n          addon = _this$props.addon,\n          children = _this$props.children,\n          right = _this$props.right,\n          transparent = _this$props.transparent,\n          platform = _this$props.platform;\n      var isPrimitive = typeof children === 'string' || typeof children === 'number';\n      return this.state.ready ? [_reactDom.default.createPortal(_react.default.createElement(\"div\", {\n        className: (0, _classNames.default)('PanelHeader-left-in', {\n          'PanelHeader-left-in--tp': transparent\n        })\n      }, left), this.leftNode), platform === _platform.IOS && _reactDom.default.createPortal(_react.default.createElement(\"div\", {\n        className: (0, _classNames.default)('PanelHeader-addon', {\n          'PanelHeader-addon--tp': transparent\n        })\n      }, addon), this.addonNode), _reactDom.default.createPortal(_react.default.createElement(\"div\", {\n        className: (0, _classNames.default)('PanelHeader-content', {\n          'PanelHeader-content--tp': transparent\n        })\n      }, isPrimitive ? _react.default.createElement(\"span\", null, children) : children), this.titleNode), _reactDom.default.createPortal(_react.default.createElement(\"div\", {\n        className: (0, _classNames.default)('PanelHeader-right', {\n          'PanelHeader-right--tp': transparent,\n          'PanelHeader-right--vkapps': this.webviewType === 'vkapps'\n        })\n      }, this.webviewType === 'internal' ? right : null), this.rightNode)] : null;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.context.document || document;\n    }\n  }, {\n    key: \"webviewType\",\n    get: function get() {\n      return this.context.webviewType || 'vkapps';\n    }\n  }]);\n  return PanelHeader;\n}(_react.Component);\n\n(0, _defineProperty2.default)(PanelHeader, \"defaultProps\", {\n  transparent: false\n});\n(0, _defineProperty2.default)(PanelHeader, \"contextTypes\", {\n  panel: _propTypes.default.string,\n  document: _propTypes.default.any,\n  scheme: _propTypes.default.string,\n  webviewType: _propTypes.default.oneOf(['vkapps', 'internal'])\n});\n\nvar _default = (0, _withPlatform.default)(PanelHeader);\n\nexports.default = _default;","map":{"version":3,"sources":["../../../src/components/PanelHeader/PanelHeader.tsx"],"names":["PanelHeader","Component","transparent","panel","PropTypes","document","scheme","webviewType","ready","panelId","getRef","element","left","addon","children","right","platform","isPrimitive","IOS","ReactDOM"],"mappings":"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","sourcesContent":["import React, { HTMLAttributes, ReactNode, Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes, { Requireable } from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport withPlatform from '../../hoc/withPlatform';\nimport { HasPlatform, HasRef } from '../../types/props';\nimport { IOS } from '../../lib/platform';\n\nexport interface PanelHeaderProps extends HTMLAttributes<HTMLDivElement>, HasRef<HTMLDivElement>, HasPlatform {\n  left?: ReactNode;\n  addon?: ReactNode;\n  right?: ReactNode;\n  transparent?: boolean;\n}\n\nexport interface PanelHeaderState {\n  ready: boolean;\n}\n\nexport interface PanelHeaderContext {\n  panel: Requireable<string>;\n  document: Requireable<{}>;\n  scheme: Requireable<string>;\n  webviewType: Requireable<'vkapps' | 'internal'>;\n}\n\n/**\n * @deprecated используйте PanelHeaderSimple\n */\nclass PanelHeader extends Component<PanelHeaderProps, PanelHeaderState> {\n  static defaultProps: PanelHeaderProps = {\n    transparent: false,\n  };\n\n  static contextTypes: PanelHeaderContext = {\n    panel: PropTypes.string,\n    document: PropTypes.any,\n    scheme: PropTypes.string,\n    webviewType: PropTypes.oneOf(['vkapps', 'internal']),\n  };\n\n  state: PanelHeaderState = {\n    ready: false,\n  };\n\n  leftNode: HTMLDivElement;\n  addonNode: HTMLDivElement;\n  titleNode: HTMLDivElement;\n  rightNode: HTMLDivElement;\n\n  get document() {return this.context.document || document;}\n\n  get webviewType() {return this.context.webviewType || 'vkapps';}\n\n  componentDidMount() {\n    const panelId = this.context.panel;\n\n    this.leftNode = this.document.getElementById(`header-left-${panelId}`);\n    this.addonNode = this.document.getElementById(`header-addon-${panelId}`);\n    this.titleNode = this.document.getElementById(`header-title-${panelId}`);\n    this.rightNode = this.document.getElementById(`header-right-${panelId}`);\n\n    const getRef = this.props.getRef;\n    if (getRef) {\n      const element = this.document.getElementById(`panel-header-${panelId}`);\n      if (typeof getRef === 'function') {\n        getRef(element);\n      } else {\n        getRef.current = element;\n      }\n    }\n\n    this.setState({ ready: true });\n  }\n\n  render() {\n    let { left, addon, children, right, transparent, platform } = this.props;\n    const isPrimitive = typeof children === 'string' || typeof children === 'number';\n\n    return this.state.ready ? [\n      ReactDOM.createPortal(<div className={classNames('PanelHeader-left-in', {\n        'PanelHeader-left-in--tp': transparent,\n      })}>{left}</div>, this.leftNode),\n      platform === IOS && ReactDOM.createPortal(<div className={classNames('PanelHeader-addon', {\n        'PanelHeader-addon--tp': transparent,\n      })}>{addon}</div>, this.addonNode),\n      ReactDOM.createPortal(<div className={classNames('PanelHeader-content', {\n        'PanelHeader-content--tp': transparent,\n      })}>\n        {isPrimitive ? <span>{children}</span> : children}\n      </div>, this.titleNode),\n      ReactDOM.createPortal(<div className={classNames('PanelHeader-right', {\n        'PanelHeader-right--tp': transparent,\n        'PanelHeader-right--vkapps': this.webviewType === 'vkapps',\n      })}>{this.webviewType === 'internal' ? right : null}</div>, this.rightNode),\n    ] : null;\n  }\n}\n\nexport default withPlatform(PanelHeader);\n"]},"metadata":{},"sourceType":"script"}